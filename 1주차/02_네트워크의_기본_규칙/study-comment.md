# 2장 네트워크의 기본 규칙

## 06. 네트워크의 규칙

## 프로토콜이란?

- 서로 다른 언어를 사용하면 대화가 통하지 않는 것처럼 네트워크에서도 문제없이 통신하려면 규칙을 정해야한다.
- 통신하기 위한 규칙을 프로토콜이라고 한다.

## 07. OSI 모델과 TCP/IP 모델

## OSI 모델이란?

- 예전에는 같은 컴퓨터 회사끼리만 통신이 가능했다. 그래서 공통으로 사용할 수 있는 표준 규격을 정해야했다.
- 표준 규격은 ISO 라는 국제표준화기구에서 OSI 모델이라는 표준 규격을 제정했다.
- OSI 모델은 네트워크 기술의 기본이 되는 모델

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/ccee4141-ca57-49be-9629-57442a73b9ab/89e33271-c202-4a37-bab3-1c9d0a9e37c4/Untitled.png)

- 컴퓨터에서 컴퓨터로 데이터를 전송하는 일을 데이터 **송수신**이라고 한다.
- 이때 컴퓨터 내부에서 여러 가지 일을 하는데 이런 일을 일곱 개의 계층으로 나눠서 한다.
- 계층이라는 용어 대신 레이어라는 용어를 사용하기도 한다.
- 통신할 때 데이터는 맨 위 응용 계층에서 순차적으로 아래 계층으로 전달된다.

| 계층 | 이름 | 설명 |
| --- | --- | --- |
| 7계층 | 응용 계층 | 이메일 & 파일 전송, 웹 사이트 조회 등 애플리케이션에 대한 서비스를 제공한다. |
| 6계층 | 표현 계층 | 문자 코드, 압축, 암호화 등의 데이터를 변환한다. |
| 5계층 | 세션 계층 | 세션 체결, 통신 방식을 결정한다. |
| 4계층 | 전송 계층 | 신뢰할 수 있는 통신을 구현한다. |
| 3계층 | 네트워크 계층 | 다른 네트워크와 통신하기 위한 경로 설정 및 논리 주소를 결정한다. |
| 2계층 | 데이터 링크 계층 | 네트워크 기기 간의 데이터 전송 및 물리 주소를 결정한다. |
| 1계층 | 물리 계층 | 시스템 간의 물리적인 연결과 전기 신호를 변환 및 제어한다. |
- 데이터를 전송하는 쪽은(송신) 데이터를 보내기 위해 상위 계층에서 하위 계층으로 데이터를 전달한다.
- 데이터를 받는(수신) 쪽은 하위 계층에서 상위 계층으로 각 계층을 통해 전달된 데이터를 받는다.
- 각 계층은 독립적이므로 데이터가 전달되는 동안에 다른 계층의 영향을 받지 않는다.

## TCP/IP 모델이란?

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/ccee4141-ca57-49be-9629-57442a73b9ab/00c325ed-c566-4582-86ea-0e78a57b370d/Untitled.png)

- OSI 모델의 응용 계층, 표현 계층, 세션 계층이 TCP/IP 모델에서는 응용 계층으로 합쳐져있다.
- 각 계층에는 다양한 프로토콜이 있다.

## 08. 캡슐화와 역캡슐화

### 캡슐화와 역캡슐화란?

- 데이터를 보내려면 데이터의 앞부분에 전송하는데 필요한 정보를 붙여서 다음 계층으로 보낸다.
- 이 정보를 헤더라고 하는데 헤더에는 데이터를 전달받을 상대방에 대한 정보도 포함되어있다.
- 이처럼 헤더를 붙여 나가는 것을 캡슐화라고 한다.
- 데이터를 받는 쪽에서는 헤더를 하나씩 제거하는데 이것을 역캡슐화라고 한다.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/ccee4141-ca57-49be-9629-57442a73b9ab/9da587d1-8659-4191-938b-743517241360/Untitled.png)

- 응용 계층에서는 웹 사이트를 접속하기 위한 요청 데이터가 만들어진다.
- 해당 데이터는 전송 계층에 전달되고 응용계층에서 만들어진 데이터에 헤더를 붙인다,
- 반복해서 전 계층에서 만들어진 데이터에 각 계층의 헤더를 붙인다.
- 네트워크 계층에서 만들어진 데이터에 물리적인 통신 채널을 연결하기 위해 데이터 링크 계층에서 헤더와 트레일러를 붙인다.
- 트레일러란 전달할 때 데이터의 마지막에 추가하는 정보
- 데이터 링크 계층에서 만들어진 데이터는 최종적으로 전기신호로 변환돼서 수신측에 도착한다.
- 이처럼 필요한 데이터를 추가해 나가는 것을 캡슐화라고 한다.

- 수신 측은 각 계층의 헤더를 제거하면서 데이터를 전달한다.
- 아까와는 반대로 데이터 링크 계층부터 순서대로 상위 계층으로 전달하고 있다.
- 데이터 링크 계층의 헤더와 트레일러를 제거한 후 네트워크 계층 헤더를 제거한다.
- 모든 헤더가 제거된 데이터가 수신측에 도착한다.
- 이렇게 네트워크에서는 데이터를 전달하기 위한 여러가지 규칙이 있어서 데이터를 문제없이 전달할 수 있다.